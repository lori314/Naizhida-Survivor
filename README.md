# Pygame 俯视角生存射击游戏 (自制原型)

这是一个使用Python的`Pygame`库，从零开始独立设计和开发的俯视角生存射击游戏原型。

> **[!] 重要提示:**
> 这个项目是我早期自学时的作品，代码中的资源文件使用了**硬编码的相对路径** (例如 `img/zang1.png`)。为了保证游戏能正确运行，请**不要修改仓库内的文件夹结构**。

---
游戏画面展示：
<img width="2552" height="1398" alt="image" src="https://github.com/user-attachments/assets/5a683de6-ac74-4e5d-9c47-30b71e2189aa" />
<img width="2552" height="1398" alt="image" src="https://github.com/user-attachments/assets/37c819db-759c-4c5e-871a-63aea09a2a8b" />


## 游戏核心玩法与特色

*   **自由移动与战斗:** 玩家使用`W/A/S/D`在广阔的2D战场上自由移动，同时使用鼠标进行瞄准和射击。
*   **双模式攻击系统:**
    *   **远程模式 (鼠标左键):** 发射追踪鼠标的弹幕。
    *   **近战模式 (鼠标右键):** 释放一个范围攻击圈，可以**击退**敌人、**摧毁**敌方子弹，并为玩家**吸血**。
*   **“狂战”技能系统:** 玩家拥有一个随时间充能的“大招”。激活后，进入“狂战”模式，攻击方式和火力将获得极大提升。
*   **多样化的敌人AI:** 游戏包含多种拥有不同行为模式的敌人：
    *   **追踪型敌人 (`Goat`):** 会持续朝玩家移动并发射子弹。
    *   **冲刺型敌人 (`Watermelon`):** 会在慢速追踪和高速冲刺两种状态间切换。
    *   **弹幕型敌人 (`Star`):** 会周期性地释放扇形弹幕。
*   **完整的游戏流程:** 包含了**主菜单、帮助界面、角色选择、游戏主循环、游戏结束与计分**等多个界面的完整状态机。

---

## 技术架构与实现亮点

#### 1. 面向对象 (OOP) 的游戏世界
整个游戏世界是基于面向对象的思想构建的。`Player`, `Goat`, `Watermelon`, `Star`, `Bullet`, `Bomb` 等每一个游戏实体都被封装为独立的类，拥有自己的属性（如血量、速度）和方法（如`move()`, `shoot()`, `is_shot()`）。

#### 2. AI 行为模式设计
敌人的AI是这个项目的一大核心。我没有使用简单的随机移动，而是为不同类型的敌人设计了独特的行为逻辑：
- **追踪逻辑:** 通过比较玩家和敌人的坐标，实时计算出移动方向向量，实现持续追踪。
- **状态切换AI:** “西瓜”敌人通过一个内部计时器和状态变量，实现了“巡航->锁定->冲刺->巡航”的行为循环。
- **弹幕生成:** “星星”敌人的扇形弹幕，是通过`math.sin()`和`math.cos()`函数，将一个固定的速度分解到多个角度的方向向量上，从而实现的。

#### 3. 玩家角色的复杂状态管理
玩家角色本身就是一个复杂的状态机，包含了`live`, `fight`, `crazy`, `has_crazy`, `shot`等多个布尔状态。这些状态的组合决定了玩家在某一时刻的移动、攻击方式和渲染效果，实现了一个富有操作感的角色。

#### 4. `Manager` 全局状态管理器
游戏流程的切换由一个顶层的`Manager`类负责。它通过一个`status`变量来控制当前应该执行哪个游戏场景的逻辑（如`start()`, `choose()`, `game()`, `over()`），有效地将UI流程和核心游戏循环解耦，使得项目结构清晰，易于扩展。

---

## 如何运行

1.  克隆本仓库到本地。
2.  进入项目目录并安装依赖: `pip install pygame`。
3.  直接运行主游戏文件。
    ```bash
    python game.py
    ```

---

*这个项目是我独立游戏开发能力的一次综合体现。从玩法设计、AI编程到面向对象的架构实践，它完整地展现了我将一个创意从想法转化为一个可玩原型的全过程。*
